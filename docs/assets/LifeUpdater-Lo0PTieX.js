import{G as r,N as u,o as a,_ as l}from"./index-BMcBvuq4.js";import{V as f}from"./ValueWithRandom-MnfPxriB.js";import"./AnimationOptions-b_lK9z76.js";class y extends f{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class h extends f{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class m{constructor(){this.count=0,this.delay=new y,this.duration=new h}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const s=0,c=1,d=-1;class w{constructor(e){this.container=e}async init(e){const i=this.container,n=e.options,o=n.life;o&&(e.life={delay:i.retina.reduceFactor?r(o.delay.value)*(o.delay.sync?c:u())/i.retina.reduceFactor*a:s,delayTime:s,duration:i.retina.reduceFactor?r(o.duration.value)*(o.duration.sync?c:u())/i.retina.reduceFactor*a:s,time:s,count:o.count},e.life.duration<=s&&(e.life.duration=d),e.life.count<=s&&(e.life.count=d),e.life&&(e.spawning=e.life.delay>s),await Promise.resolve())}isEnabled(e){return!e.destroyed}loadOptions(e,...i){e.life||(e.life=new m);for(const n of i)e.life.load(n==null?void 0:n.life)}async update(e,i){if(!this.isEnabled(e)||!e.life)return;const{updateLife:n}=await l(()=>import("./Utils-d-hjYAa3.js"),__vite__mapDeps([0,1,2]));n(e,i,this.container.canvas.size)}}export{w as LifeUpdater};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Utils-d-hjYAa3.js","assets/index-BMcBvuq4.js","assets/index-kY2oJyCf.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}